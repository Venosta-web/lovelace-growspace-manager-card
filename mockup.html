<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Growspace Manager Card Mockup</title>
  <script type="module" src="./dist/growspace-manager-card.js"></script>
  <style>
    body { background-color: #222; color: #fff; font-family: sans-serif; }
    growspace-manager-card { display: block; max-width: 800px; margin: 0 auto; }
    /* Mock some CSS variables */
    body {
        --primary-text-color: #ffffff;
        --secondary-text-color: #aaaaaa;
        --primary-color: #03a9f4;
        --accent-color: #ff9800;
        --ha-card-background: #1c1c1c;
        --ha-card-box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.14);
        --ha-card-border-radius: 4px;
        --plant-border-color-default: #4CAF50;
        --stage-veg: #8BC34A;
        --stage-flower: #FF9800;
        --stage-dry: #795548;
        --stage-cure: #9C27B0;
    }
  </style>
</head>
<body>

  <growspace-manager-card id="card"></growspace-manager-card>

  <script>
    const card = document.querySelector('growspace-manager-card');

    // Mock Hass object
    const hass = {
      config: { time_zone: 'UTC' },
      states: {
        'sensor.growspaces_list': {
           entity_id: 'sensor.growspaces_list',
           attributes: {
             growspaces: {
               'gs1': 'Growspace 1'
             }
           }
        },
        'sensor.growspace_gs1_overview': {
           entity_id: 'sensor.growspace_gs1_overview',
           attributes: {
              growspace_id: 'gs1',
              rows: 2,
              plants_per_row: 2,
              friendly_name: 'Growspace 1',
              type: 'normal'
           }
        },
        // Strain library sensor
        'sensor.growspace_strain_library': {
           entity_id: 'sensor.growspace_strain_library',
           attributes: {
              strains: {
                 'Gorilla Glue': {
                    meta: {
                       type: 'Hybrid',
                       breeder: 'GG Strains',
                       sativa_percentage: 60,
                       indica_percentage: 40
                    },
                    analytics: { avg_veg_days: 30, avg_flower_days: 60, total_harvests: 5 }
                 },
                 'Blue Dream': {
                    meta: {
                       type: 'Sativa',
                       breeder: 'Humboldt',
                       sativa_percentage: 80,
                       indica_percentage: 20
                    }
                 },
                 'Northern Lights': {
                    meta: {
                       type: 'Indica',
                       breeder: 'Sensi Seeds',
                       sativa_percentage: 5,
                       indica_percentage: 95
                    }
                 }
              }
           }
        }
      },
      callService: async (domain, service, data) => {
         console.log('Call Service:', domain, service, data);
         return Promise.resolve();
      },
      callApi: async (method, path) => {
         console.log('Call API:', method, path);
         return Promise.resolve([]);
      }
    };

    // Wait for element to upgrade
    customElements.whenDefined('growspace-manager-card').then(() => {
       card.setConfig({ default_growspace: 'gs1' });
       card.hass = hass;
    });

  </script>
</body>
</html>
